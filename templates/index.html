{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
  <div class="card shadow">
    <div class="card-header bg-primary text-white">
      <h2 class="mb-0">Selamat datang, {{ user.username }}!</h2>
    </div>
    <div class="card-body">
      <p class="lead">Silahkan pilih pengguna untuk memulai chat terenkripsi</p>
      
      <div class="list-group mt-4">
        {% for u in users %}
          {% if u.id != user.id %}
            <a href="{{ url_for('chat_with', with_id=u.id) }}" class="list-group-item list-group-item-action d-flex align-items-center">
              <div class="user-avatar me-3">
                <div class="rounded-circle bg-secondary text-white d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                  {{ u.username[0].upper() }}
                </div>
              </div>
              <div>
                <h5 class="mb-1">{{ u.username }}</h5>
                <small class="text-muted">Klik untuk memulai percakapan terenkripsi</small>
              </div>
            </a>
          {% endif %}
        {% endfor %}
      </div>
      
      <div class="mt-3">
        <a href="{{ url_for('logout') }}" class="btn btn-danger">Logout</a>
      </div>
    </div>
    <div class="card-footer text-muted">
      <small>Encryptify Chat - Aplikasi Chat dengan Enkripsi End-to-End</small>
    </div>
  </div>
</div>

<style>
  .card {
    border-radius: 10px;
    overflow: hidden;
  }
  
  .list-group-item:hover {
    background-color: #f8f9fa;
    transition: background-color 0.2s;
  }
</style>
{% endblock %}